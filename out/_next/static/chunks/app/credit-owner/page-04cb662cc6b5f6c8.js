(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1489],{13240:function(e,n,t){Promise.resolve().then(t.bind(t,52822))},72895:function(e,n,t){"use strict";let a=t(17076),s=t(85061),l=t(24717),r=t(33745);e.exports={networkMappingAddresses:a,abiNftMarketplace:s,abiERC721:l,abiERC20:r}},34377:function(e,n,t){"use strict";t.d(n,{v:function(){return u}});var a=t(54463),s=t(75856),l=t(8483),r=t(62146),i=t(14854);let u=(0,a._)({chains:[l.F,r.d,i.c],transports:{[l.F.id]:(0,s.d)(),[r.d.id]:(0,s.d)(),[i.c.id]:(0,s.d)()}})},52822:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var a=t(57437),s=t(26735),l=t(98286),r=t(72895),i=t(2265),u=t(34377),p=t(42467),o=t(83927),d=t(61572),y=t(10549);function c(e){let{price:n,nftAddress:t,tokenId:c,marketplaceAddress:m,seller:f}=e,{isConnected:b,address:h}=(0,s.m)();(0,l.x)();let[g,T]=(0,i.useState)(""),[x,v]=(0,i.useState)(""),[C,k]=(0,i.useState)(""),[w,M]=(0,i.useState)(""),[A,L]=(0,i.useState)(""),[N,_]=(0,i.useState)(!1),{Meta:I}=o.default;async function j(){let e=await (0,p.L)(u.v,{abi:r.abiERC721,address:t,functionName:"tokenURI",args:[c]});if(e){console.log("The token URI is: ".concat(e));let n=e.replace("ipfs://","https://ipfs.io/ipfs/"),t=await (await fetch(n)).json();console.log(t);let a=t.image.replace("ipfs://","https://ipfs.io/ipfs/");console.log(a),T(a),v(t.name),k(t.description),M(t.attributes[0].level),L(t.attributes[0].type)}}return(0,i.useEffect)(()=>{b&&j()},[b]),(0,a.jsx)("div",{children:(0,a.jsx)("div",{children:g?(0,a.jsx)("div",{children:(0,a.jsxs)(o.default,{hoverable:!0,style:{width:200},cover:(0,a.jsx)(d.Z,{alt:"nft",src:g,height:200,width:200,preview:!1}),onClick:()=>{_(!0)},children:[(0,a.jsx)(I,{title:x.replace("Carbon Credits","CAR"),description:C}),(0,a.jsx)("div",{className:" p-2",children:(0,a.jsxs)("div",{className:" flex flex-col items-end gap-2",children:[(0,a.jsxs)("div",{className:"italic text-sm",children:["Level: ",w]}),(0,a.jsxs)("div",{className:"italic text-sm",children:["Type: ",A]}),(0,a.jsxs)("div",{children:["#",c]}),(0,a.jsxs)("div",{style:{wordWrap:"break-word",maxWidth:"150px"},className:"italic text-sm",children:["NFT Address: ",t]}),(0,a.jsx)("div",{className:"italic text-sm",children:"Owned by you"})]})})]})}):(0,a.jsx)("div",{children:(0,a.jsx)(y.Z.Image,{})})})})}t(87138);var m=t(48646),f=t(21432);function b(){let e=(0,m._)(['\n        {\n            activeItems(where: { \n                or: [\n                    { buyer: "','" },\n                    { and: [\n                        { buyer: "0x000000000000000000000000000000000000dEaD" },\n                        { seller: "','" }\n                    ]}\n                    ]\n                }) {\n                id\n                buyer\n                seller\n                nftAddress\n                tokenId\n                price\n            }\n        }\n    ']);return b=function(){return e},e}var h=e=>(0,f.Ps)(b(),e,e),g=t(56884);function T(){let{isConnected:e,isDisconnected:n,address:t}=(0,s.m)();console.log("address: ".concat(t));let u=e?t:"";console.log("addressQuery: ".concat(u));let p=(0,l.x)(),o=(0,i.useRef)(p);console.log("(initialChainId: ".concat(p,")")),(0,i.useEffect)(()=>{p!==o.current&&window.location.reload()},[p]);let d=p in r.networkMappingAddresses?r.networkMappingAddresses[p].NftMarketplace[0]:null,{loading:y,error:m,data:f}=(0,g.a)(h(u.toLowerCase()));return console.log(f),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:" flex flex-col items-center justify-center min-h-screen space-y-20",children:[(0,a.jsxs)("h1",{className:" text-4xl font-mono font-bold text-rose-500",children:[n&&"Connet your wallet (with sepolia network / bscTestnet)",e&&11155111!=p&&97!=p&&"Please switch to sepolia network / bscTestnet"]}),e&&(11155111==p||97==p)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:" text-4xl font-mono font-bold text-rose-500",children:"Your Carbon Credits"}),y||!f?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)("div",{className:f.activeItems.length<5?"flex flex-wrap gap-7":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-7",children:f.activeItems.map(e=>{let{price:n,nftAddress:t,tokenId:s,seller:l}=e;return d?(0,a.jsx)(c,{price:n,nftAddress:t,tokenId:s,marketplaceAddress:d,seller:l},"".concat(t).concat(s)):(0,a.jsx)("div",{children:"Network error, please switch to a supported network. "})})}),(!y||f)&&0==f.activeItems.length?(0,a.jsx)("h1",{className:" text-2xl italic font-mono font-bold text-gray-400",children:"Not Found. (Maybe You are listing them or You do not have any credits yet...)"}):""]})]})})}},33745:function(e){"use strict";e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"burn","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_value","type":"uint256"}],"name":"burnFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"},{"name":"_extraData","type":"bytes"}],"name":"approveAndCall","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"initialSupply","type":"uint256"},{"name":"tokenName","type":"string"},{"name":"tokenSymbol","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Burn","type":"event"},{"inputs":[],"name":"CARfaucet","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},24717:function(e){"use strict";e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"operator","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},85061:function(e){"use strict";e.exports=JSON.parse('[{"type":"constructor","inputs":[{"name":"tokenAddressCAR","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null}],"payable":false,"gas":null},{"type":"error","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"NftMarketplace__AlreadyListed"},{"type":"error","inputs":[],"name":"NftMarketplace__NoProceeds"},{"type":"error","inputs":[],"name":"NftMarketplace__NotApprovedForMarketplace"},{"type":"error","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"NftMarketplace__NotListed"},{"type":"error","inputs":[],"name":"NftMarketplace__NotOwner"},{"type":"error","inputs":[],"name":"NftMarketplace__PriceMustBeAboveZero"},{"type":"error","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null},{"name":"price","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"NftMarketplace__PriceNotMet"},{"type":"error","inputs":[],"name":"NftMarketplace__TransferFailed"},{"type":"error","inputs":[],"name":"ReentrancyGuardReentrantCall"},{"type":"event","inputs":[{"name":"buyer","type":"address","baseType":"address","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"nftAddress","type":"address","baseType":"address","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"price","type":"uint256","baseType":"uint256","indexed":false,"components":null,"arrayLength":null,"arrayChildren":null}],"name":"ItemBought","anonymous":false},{"type":"event","inputs":[{"name":"seller","type":"address","baseType":"address","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"nftAddress","type":"address","baseType":"address","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null}],"name":"ItemCanceled","anonymous":false},{"type":"event","inputs":[{"name":"seller","type":"address","baseType":"address","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"nftAddress","type":"address","baseType":"address","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","indexed":true,"components":null,"arrayLength":null,"arrayChildren":null},{"name":"price","type":"uint256","baseType":"uint256","indexed":false,"components":null,"arrayLength":null,"arrayChildren":null}],"name":"ItemListed","anonymous":false},{"type":"function","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"buyItem","constant":false,"outputs":[],"stateMutability":"payable","payable":true,"gas":null},{"type":"function","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"cancelListing","constant":false,"outputs":[],"stateMutability":"nonpayable","payable":false,"gas":null},{"type":"function","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"getListing","constant":true,"outputs":[{"name":"","type":"tuple","baseType":"tuple","components":[{"name":"price","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null},{"name":"seller","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null}],"arrayLength":null,"arrayChildren":null}],"stateMutability":"view","payable":false,"gas":null},{"type":"function","inputs":[{"name":"seller","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null}],"name":"getProceeds","constant":true,"outputs":[{"name":"","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"stateMutability":"view","payable":false,"gas":null},{"type":"function","inputs":[],"name":"i_tokenCAR","constant":true,"outputs":[{"name":"","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null}],"stateMutability":"view","payable":false,"gas":null},{"type":"function","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null},{"name":"price","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"listItem","constant":false,"outputs":[],"stateMutability":"nonpayable","payable":false,"gas":null},{"type":"function","inputs":[{"name":"nftAddress","type":"address","baseType":"address","components":null,"arrayLength":null,"arrayChildren":null},{"name":"tokenId","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null},{"name":"newPrice","type":"uint256","baseType":"uint256","components":null,"arrayLength":null,"arrayChildren":null}],"name":"updateListing","constant":false,"outputs":[],"stateMutability":"nonpayable","payable":false,"gas":null},{"type":"function","inputs":[],"name":"withdrawProceeds","constant":false,"outputs":[],"stateMutability":"nonpayable","payable":false,"gas":null}]')},17076:function(e){"use strict";e.exports=JSON.parse('{"97":{"NftMarketplace":["0x3BA31EB2e718a7E23b08A81662159Bf4c1eF625C"],"TokenCAR":["0xBd1E7B1aca9B037675b2Fb10d909F1e43fD77eB8"]},"31337":{"NftMarketplace":["0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512"],"TokenCAR":["0x5FbDB2315678afecb367f032d93F642f64180aa3"]},"11155111":{"NftMarketplace":["0xaFe2924A9993AF0a3810846F2F5EdC37cE5cA1Aa"],"TokenCAR":["0xFAE5AeB08ef7A21A4fDc6fC776466B62b57676cC"]}}')}},function(e){e.O(0,[5630,1209,5286,6483,1391,2971,7023,1744],function(){return e(e.s=13240)}),_N_E=e.O()}]);